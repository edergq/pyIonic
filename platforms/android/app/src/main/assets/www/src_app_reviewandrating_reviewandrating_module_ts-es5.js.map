{"version":3,"sources":["webpack:///src/app/reviewandrating/reviewandrating-routing.module.ts","webpack:///src/app/reviewandrating/reviewandrating.module.ts","webpack:///src/app/reviewandrating/reviewandrating.page.ts","webpack:///src/app/reviewandrating/reviewandrating.page.scss","webpack:///src/app/reviewandrating/reviewandrating.page.html"],"names":["routes","path","component","ReviewandratingPage","ReviewandratingPageRoutingModule","NgModule","imports","RouterModule","exports","ReviewandratingPageModule","CommonModule","FormsModule","IonicModule","declarations","menuCtrl","apiService","basic","localApi","route","alertController","modalController","apCmp","postdata","logedUser","getuser","imgpath","environment","getallProducts","event","console","log","setTimeout","target","complete","presentLoading","subscribe","resp","allProducts","data","dismissloader","err","id","order","alert","review","openwrite","reviews","openlogforofr","checkmyord","frwht","rvwdt","create","WritereviewPage","cssClass","backdropDismiss","componentProps","modal","onDidDismiss","then","ngOnInit","present","LoginpagePage","checklogin","createreviews","MenuController","ApiService","BasicApiService","LocalApiService","Router","AlertController","ModalController","AppComponent","Component","selector","template"],"mappings":"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","file":"src_app_reviewandrating_reviewandrating_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReviewandratingPage } from './reviewandrating.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReviewandratingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReviewandratingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReviewandratingPageRoutingModule } from './reviewandrating-routing.module';\n\nimport { ReviewandratingPage } from './reviewandrating.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReviewandratingPageRoutingModule\n  ],\n  declarations: [ReviewandratingPage]\n})\nexport class ReviewandratingPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, MenuController, ModalController } from '@ionic/angular';\nimport { BasicApiService } from 'src/Providers/Basic/basic-api.service';\nimport { LocalApiService } from 'src/Providers/Local/local-api.service';\nimport { ApiService } from 'src/Providers/Services/api.service';\nimport { environment } from '../../environments/environment';\nimport { AppComponent } from '../app.component';\nimport { LoginpagePage } from '../loginpage/loginpage.page';\nimport { WritereviewPage } from '../writereview/writereview.page';\n\n@Component({\n  selector: 'app-reviewandrating',\n  templateUrl: './reviewandrating.page.html',\n  styleUrls: ['./reviewandrating.page.scss'],\n})\nexport class ReviewandratingPage implements OnInit {\n\n  imgpath: any;\n  postdata: any = {};\n  allProducts: any;\n  logedUser: any;\n  \n  constructor(\n  \tpublic menuCtrl: MenuController,\n    public apiService: ApiService,\n    public basic: BasicApiService,\n\t  public localApi: LocalApiService,\n    public route: Router,\n    public alertController: AlertController,\n    public modalController: ModalController,\n    public apCmp: AppComponent\n    ) { }\n\n  ngOnInit() {\n  \tthis.logedUser = this.localApi.getuser();\n    this.imgpath = environment.imagepath;\n    this.getallProducts();\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n    setTimeout(() => {\n      this.getallProducts();\n      event.target.complete();\n    }, 2000);\n  }\n\n\n  getallProducts(){\n    this.basic.presentLoading();\n\t  this.apiService.postdata('getreviews', this.postdata).subscribe((resp: any) => {\n\t\tthis.allProducts = resp.data;\n  \t\tconsole.log(this.allProducts);\n      setTimeout(()=>{\n        this.basic.dismissloader();\n      },1000)\n\t}, (err: any) => {\n\treturn false;\n\t});\n  }\n\n  checkmyord(){\n  \tthis.basic.presentLoading();\n  \tthis.logedUser = this.localApi.getuser();\n\tif(this.logedUser){\n\t\tthis.apiService.postdata('myordnumber', this.logedUser.id).subscribe((resp: any) => {\n\t\t\tconsole.log(resp.data);\n\t\t    if(resp.data.order <= 0){\n\t  \t\t\tthis.basic.alert('Sorry:', 'You need to have at least 1 order to be able to submit a review.');\n\t  \t\t} else if(resp.data.review > 0){\n          this.openwrite('Update',resp.data.reviews);\n        } else {\n\t  \t\t\tthis.openwrite('New','');\n\t  \t\t}\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.basic.dismissloader();\n\t\t\t},1000)\n\t    }, (err: any) => {\n\t    return false;\n\t    });\n\t}\n  }\n\n\n  createreviews(){\n  \tthis.logedUser = this.localApi.getuser();\n  \tif(!this.logedUser){\n  \t\tthis.openlogforofr();\n  \t} else {\n  \t\tthis.checkmyord();\n  \t}\n  }\n\n  async openwrite(frwht, rvwdt) {\n    const modal = await this.modalController.create({\n      component: WritereviewPage,\n      cssClass: 'my-custom-class',\n      backdropDismiss: true,\n      componentProps: {\n        'review': rvwdt,\n        'frwht': frwht,\n     },\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log('data', data);\n      if(data.data){\n        this.ngOnInit();\n      }\n    });\n    return await modal.present();\n  }\n\n  async openlogforofr() {\n    const modal = await this.modalController.create({\n      component: LoginpagePage,\n      cssClass: 'my-custom-class',\n      backdropDismiss: true\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log('data', data);\n      if(data.data){\n      \tthis.apCmp.checklogin();\n        this.createreviews();\n      }\n    });\n    return await modal.present();\n  }\n}\n","export default \".reviewvid {\\n  width: 100%;\\n  height: auto;\\n  padding: 10px;\\n  background-color: #fff;\\n  font-size: 13px;\\n  margin-bottom: 20px;\\n}\\n.reviewvid .reviername {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n.reviewvid .reviername ion-icon {\\n  color: #ffd500;\\n  margin-right: 3px;\\n}\\n.reviewvid .reviername .timeago {\\n  float: right;\\n  font-weight: normal;\\n  color: #9c9c9c;\\n}\\n.reviewvid .reviewdesc {\\n  padding: 10px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldmlld2FuZHJhdGluZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQUNEO0FBQUM7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7QUFFRjtBQURFO0VBQ0MsY0FBQTtFQUNBLGlCQUFBO0FBR0g7QUFERTtFQUNDLFlBQUE7RUFDRyxtQkFBQTtFQUNBLGNBQUE7QUFHTjtBQUNDO0VBQ0MsZUFBQTtBQUNGIiwiZmlsZSI6InJldmlld2FuZHJhdGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmV2aWV3dmlke1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiBhdXRvO1xuXHRwYWRkaW5nOiAxMHB4O1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuXHRmb250LXNpemU6IDEzcHg7XG5cdG1hcmdpbi1ib3R0b206IDIwcHg7XG5cdC5yZXZpZXJuYW1le1xuXHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRpb24taWNvbntcblx0XHRcdGNvbG9yOiAjZmZkNTAwO1xuXHRcdFx0bWFyZ2luLXJpZ2h0OiAzcHg7XG5cdFx0fVxuXHRcdC50aW1lYWdve1xuXHRcdFx0ZmxvYXQ6IHJpZ2h0O1xuXHRcdCAgICBmb250LXdlaWdodDogbm9ybWFsO1xuXHRcdCAgICBjb2xvcjogIzljOWM5Yztcblx0XHR9XG5cblx0fVxuXHQucmV2aWV3ZGVzY3tcblx0XHRwYWRkaW5nOiAxMHB4IDA7XG5cdH1cbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-menu-button slot=\\\"start\\\"></ion-menu-button>\\n    <ion-title class=\\\"heaerfont\\\">Reviews / Ratings</ion-title>\\n    <ion-buttons slot=\\\"end\\\" (click)='createreviews()'>\\n      <ion-icon name=\\\"create-outline\\\" class='headerrighticon'></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n\\t  <ion-refresher-content></ion-refresher-content>\\n\\t</ion-refresher>\\n\\n  <div class=\\\"padcontr\\\">\\n    <div class=\\\"reviewvid\\\" *ngFor=\\\"let item of allProducts\\\">\\n      <div class=\\\"reviername\\\">\\n        {{item.name}} <span *ngFor=\\\"let rtn of item.rtngs\\\"><ion-icon name=\\\"{{rtn}}\\\"></ion-icon></span> <span class=\\\"timeago\\\">{{item.timeago}}</span>\\n      </div>\\n      <div class=\\\"reviewdesc\\\">\\n        {{item.reviews}}\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\";"]}