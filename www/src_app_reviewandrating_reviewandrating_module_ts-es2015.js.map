{"version":3,"sources":["./src/app/reviewandrating/reviewandrating-routing.module.ts","./src/app/reviewandrating/reviewandrating.module.ts","./src/app/reviewandrating/reviewandrating.page.ts","./src/app/reviewandrating/reviewandrating.page.scss","./src/app/reviewandrating/reviewandrating.page.html"],"names":[],"mappings":"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","file":"src_app_reviewandrating_reviewandrating_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReviewandratingPage } from './reviewandrating.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReviewandratingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReviewandratingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReviewandratingPageRoutingModule } from './reviewandrating-routing.module';\n\nimport { ReviewandratingPage } from './reviewandrating.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReviewandratingPageRoutingModule\n  ],\n  declarations: [ReviewandratingPage]\n})\nexport class ReviewandratingPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, MenuController, ModalController } from '@ionic/angular';\nimport { BasicApiService } from 'src/Providers/Basic/basic-api.service';\nimport { LocalApiService } from 'src/Providers/Local/local-api.service';\nimport { ApiService } from 'src/Providers/Services/api.service';\nimport { environment } from '../../environments/environment';\nimport { AppComponent } from '../app.component';\nimport { LoginpagePage } from '../loginpage/loginpage.page';\nimport { WritereviewPage } from '../writereview/writereview.page';\n\n@Component({\n  selector: 'app-reviewandrating',\n  templateUrl: './reviewandrating.page.html',\n  styleUrls: ['./reviewandrating.page.scss'],\n})\nexport class ReviewandratingPage implements OnInit {\n\n  imgpath: any;\n  postdata: any = {};\n  allProducts: any;\n  logedUser: any;\n  \n  constructor(\n  \tpublic menuCtrl: MenuController,\n    public apiService: ApiService,\n    public basic: BasicApiService,\n\t  public localApi: LocalApiService,\n    public route: Router,\n    public alertController: AlertController,\n    public modalController: ModalController,\n    public apCmp: AppComponent\n    ) { }\n\n  ngOnInit() {\n  \tthis.logedUser = this.localApi.getuser();\n    this.imgpath = environment.imagepath;\n    this.getallProducts();\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n    setTimeout(() => {\n      this.getallProducts();\n      event.target.complete();\n    }, 2000);\n  }\n\n\n  getallProducts(){\n    this.basic.presentLoading();\n\t  this.apiService.postdata('getreviews', this.postdata).subscribe((resp: any) => {\n\t\tthis.allProducts = resp.data;\n  \t\tconsole.log(this.allProducts);\n      setTimeout(()=>{\n        this.basic.dismissloader();\n      },1000)\n\t}, (err: any) => {\n\treturn false;\n\t});\n  }\n\n  checkmyord(){\n  \tthis.basic.presentLoading();\n  \tthis.logedUser = this.localApi.getuser();\n\tif(this.logedUser){\n\t\tthis.apiService.postdata('myordnumber', this.logedUser.id).subscribe((resp: any) => {\n\t\t\tconsole.log(resp.data);\n\t\t    if(resp.data.order <= 0){\n\t  \t\t\tthis.basic.alert('Sorry:', 'You need to have at least 1 order to be able to submit a review.');\n\t  \t\t} else if(resp.data.review > 0){\n          this.openwrite('Update',resp.data.reviews);\n        } else {\n\t  \t\t\tthis.openwrite('New','');\n\t  \t\t}\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.basic.dismissloader();\n\t\t\t},1000)\n\t    }, (err: any) => {\n\t    return false;\n\t    });\n\t}\n  }\n\n\n  createreviews(){\n  \tthis.logedUser = this.localApi.getuser();\n  \tif(!this.logedUser){\n  \t\tthis.openlogforofr();\n  \t} else {\n  \t\tthis.checkmyord();\n  \t}\n  }\n\n  async openwrite(frwht, rvwdt) {\n    const modal = await this.modalController.create({\n      component: WritereviewPage,\n      cssClass: 'my-custom-class',\n      backdropDismiss: true,\n      componentProps: {\n        'review': rvwdt,\n        'frwht': frwht,\n     },\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log('data', data);\n      if(data.data){\n        this.ngOnInit();\n      }\n    });\n    return await modal.present();\n  }\n\n  async openlogforofr() {\n    const modal = await this.modalController.create({\n      component: LoginpagePage,\n      cssClass: 'my-custom-class',\n      backdropDismiss: true\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log('data', data);\n      if(data.data){\n      \tthis.apCmp.checklogin();\n        this.createreviews();\n      }\n    });\n    return await modal.present();\n  }\n}\n","export default \".reviewvid {\\n  width: 100%;\\n  height: auto;\\n  padding: 10px;\\n  background-color: #fff;\\n  font-size: 13px;\\n  margin-bottom: 20px;\\n}\\n.reviewvid .reviername {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n.reviewvid .reviername ion-icon {\\n  color: #ffd500;\\n  margin-right: 3px;\\n}\\n.reviewvid .reviername .timeago {\\n  float: right;\\n  font-weight: normal;\\n  color: #9c9c9c;\\n}\\n.reviewvid .reviewdesc {\\n  padding: 10px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldmlld2FuZHJhdGluZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQUNEO0FBQUM7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7QUFFRjtBQURFO0VBQ0MsY0FBQTtFQUNBLGlCQUFBO0FBR0g7QUFERTtFQUNDLFlBQUE7RUFDRyxtQkFBQTtFQUNBLGNBQUE7QUFHTjtBQUNDO0VBQ0MsZUFBQTtBQUNGIiwiZmlsZSI6InJldmlld2FuZHJhdGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmV2aWV3dmlke1xuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiBhdXRvO1xuXHRwYWRkaW5nOiAxMHB4O1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuXHRmb250LXNpemU6IDEzcHg7XG5cdG1hcmdpbi1ib3R0b206IDIwcHg7XG5cdC5yZXZpZXJuYW1le1xuXHRcdGZvbnQtc2l6ZTogMTJweDtcblx0XHRmb250LXdlaWdodDogYm9sZDtcblx0XHRpb24taWNvbntcblx0XHRcdGNvbG9yOiAjZmZkNTAwO1xuXHRcdFx0bWFyZ2luLXJpZ2h0OiAzcHg7XG5cdFx0fVxuXHRcdC50aW1lYWdve1xuXHRcdFx0ZmxvYXQ6IHJpZ2h0O1xuXHRcdCAgICBmb250LXdlaWdodDogbm9ybWFsO1xuXHRcdCAgICBjb2xvcjogIzljOWM5Yztcblx0XHR9XG5cblx0fVxuXHQucmV2aWV3ZGVzY3tcblx0XHRwYWRkaW5nOiAxMHB4IDA7XG5cdH1cbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-menu-button slot=\\\"start\\\"></ion-menu-button>\\n    <ion-title class=\\\"heaerfont\\\">Reviews / Ratings</ion-title>\\n    <ion-buttons slot=\\\"end\\\" (click)='createreviews()'>\\n      <ion-icon name=\\\"create-outline\\\" class='headerrighticon'></ion-icon>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n\\t  <ion-refresher-content></ion-refresher-content>\\n\\t</ion-refresher>\\n\\n  <div class=\\\"padcontr\\\">\\n    <div class=\\\"reviewvid\\\" *ngFor=\\\"let item of allProducts\\\">\\n      <div class=\\\"reviername\\\">\\n        {{item.name}} <span *ngFor=\\\"let rtn of item.rtngs\\\"><ion-icon name=\\\"{{rtn}}\\\"></ion-icon></span> <span class=\\\"timeago\\\">{{item.timeago}}</span>\\n      </div>\\n      <div class=\\\"reviewdesc\\\">\\n        {{item.reviews}}\\n      </div>\\n    </div>\\n  </div>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}